<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>C++单测生成调研 | bush's Blog</title><meta name="author" content="bush Wu"><meta name="copyright" content="bush Wu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="C++单测生成调研 调研C++单元测试生成在Undefined Behavior、内存、指针、Error Handling四个方面的特点、挑战及现状，据此考虑主要根据哪些特点来迁移已有模型。 1. Undefined Behavior 未定义行为（Undefined Behavior, UB）是编程语言规范中未对某些构造强制规定行为的部分。它为编译器优化提供了自由，但可能导致程序在不同平台上的行为">
<meta property="og:type" content="article">
<meta property="og:title" content="C++单测生成调研">
<meta property="og:url" content="http://bush-cn.github.io/2025/01/12/C-%E5%8D%95%E6%B5%8B%E7%94%9F%E6%88%90%E8%B0%83%E7%A0%94/index.html">
<meta property="og:site_name" content="bush&#39;s Blog">
<meta property="og:description" content="C++单测生成调研 调研C++单元测试生成在Undefined Behavior、内存、指针、Error Handling四个方面的特点、挑战及现状，据此考虑主要根据哪些特点来迁移已有模型。 1. Undefined Behavior 未定义行为（Undefined Behavior, UB）是编程语言规范中未对某些构造强制规定行为的部分。它为编译器优化提供了自由，但可能导致程序在不同平台上的行为">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://bush-cn.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2025-01-12T05:06:39.000Z">
<meta property="article:modified_time" content="2025-03-04T13:28:42.131Z">
<meta property="article:author" content="bush Wu">
<meta property="article:tag" content="C&#x2F;C++单元测试生成">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://bush-cn.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://bush-cn.github.io/2025/01/12/C-%E5%8D%95%E6%B5%8B%E7%94%9F%E6%88%90%E8%B0%83%E7%A0%94/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: bush Wu","link":"链接: ","source":"来源: bush's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'medium_zoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C++单测生成调研',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: linear-gradient(to left, rgb(76, 161, 175), rgb(196, 224, 229));"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/favicon.png" alt="Logo"><span class="site-name">bush's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">C++单测生成调研</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">C++单测生成调研</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-12T05:06:39.000Z" title="发表于 2025-01-12 13:06:39">2025-01-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-04T13:28:42.131Z" title="更新于 2025-03-04 21:28:42">2025-03-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C-C-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%94%9F%E6%88%90/">C/C++单元测试生成</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1>C++单测生成调研</h1>
<p>调研C++单元测试生成在Undefined Behavior、内存、指针、Error Handling四个方面的特点、挑战及现状，据此考虑主要根据哪些特点来迁移已有模型。</p>
<h2 id="1-Undefined-Behavior">1. Undefined Behavior</h2>
<p>未定义行为（<strong>Undefined Behavior</strong>, UB）是编程语言规范中未对某些构造强制规定行为的部分。它为编译器优化提供了自由，但可能导致程序在不同平台上的行为不一致。<u>C/C++比Java具有更多UB</u>。</p>
<blockquote>
<p>A difficult trade-off in the design of a systems programming language is how much freedom to grant the compiler to generate efficient code for a target instruction set. On one hand, programmers prefer that a program behaves identically on all hardware platforms. On the other hand, programmers want to get high performance by allowing the compiler to exploit specific properties of the instruction set of their hardware platform. A technique that languages use to make this trade-off is labeling certain program constructs as <strong>undefined behavior</strong>, for which the language imposes no requirements on <u>compiler</u> writers.</p>
<p>From: [Kaashoek_Undefined behavior.pdf (<a target="_blank" rel="noopener" href="http://mit.edu">mit.edu</a>)](<a target="_blank" rel="noopener" href="https://dspace.mit.edu/bitstream/handle/1721.1/86949/Kaashoek_Undefined">https://dspace.mit.edu/bitstream/handle/1721.1/86949/Kaashoek_Undefined</a> behavior.pdf)</p>
</blockquote>
<p>Example:</p>
<ul>
<li>division by zero</li>
<li>oversized shift</li>
<li>signed integer overflow</li>
<li>out-of-bounds pointer</li>
<li>null pointer dereference</li>
<li>type-punned pointer dereference（类型转换指针解引用）</li>
<li>uninitialized read</li>
</ul>
<hr>
<p>未找到针对性的测试用例生成的论文。</p>
<h2 id="2-内存">2. 内存</h2>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1710.06125">EffectiveSan: Type and Memory Error Detection using Dynamically Typed C/C++ (arxiv.org)</a></p>
<p>C/C++类型系统是静态且弱的，会出现<strong>类型错误</strong>（例如错误的类型转换）和<strong>内存错误</strong>（例如数组越界、使用释放后的内存等）。</p>
<p>提出了<strong>动态类型</strong> C/C++ 的概念。要点如下：</p>
<ol>
<li>每个分配的对象都会绑定<strong>动态类型信息</strong>（称为“有效类型”），用于描述其类型、边界和子对象布局。</li>
<li>在运行时检查指针使用是否合法，包括指针的类型正确性和边界正确性。</li>
<li>EffectiveSan 支持复杂对象的子对象布局：涵盖嵌套结构体、类的继承、联合等。</li>
</ol>
<hr>
<p><a target="_blank" rel="noopener" href="https://d1wqtxts1xzle7.cloudfront.net/76763038/sefm2015-libre.pdf?1639840124=&amp;response-content-disposition=inline%3B+filename%3DMemory_Management_Test_Case_Generation_o.pdf&amp;Expires=1736853826&amp;Signature=VM6--U4EKTgiW1nLN-1mQXQkfkmonBSz5V5MVphAvpKUSmYedrxd6oAj54WBdfZdr~XLyU9oMYH6zq6MHsGnN1LpFcS7aiVs9RMDuC00b8UmBZJtydQXjWVUpW2pnJKtCtL5Fwj0TptHUrzgVudnBaUGAdPuEg7y1GAMPcR1q~OZy0mcSXYNSW2-S21MESUWGVWSmkohHiUEjYmrYYzxxUgNmR2FuzZIm9ktaiin~ZMqWX1R3ZyrhyOYivnoLmV542tU0odxKT3VyI5ITzZ9IJ-RqT8M1bvAtXuf6x2YMjP3CY~RBgJpmfqlwWGKRhje266VLoYnrpj3AXA4Vb10gQ__&amp;Key-Pair-Id=APKAJLOHF5GGSLRBV4ZA">sefm2015-libre.pdf (d1wqtxts1xzle7.cloudfront.net)</a></p>
<p>名为Map2Check的工具。提供了一种改进的<strong>单元测试生成</strong>方法，结合<strong>ESBMC模型检查器</strong>和动态分析技术，显著提高了<strong>内存管理</strong>缺陷检测的精度。</p>
<ol>
<li>识别安全属性，利用ESBMC提取潜在的程序缺陷。</li>
<li>从安全属性中提取信息，如位置和潜在缺陷。</li>
<li>将安全属性翻译为C代码中的<strong>断言</strong>。</li>
<li>内存跟踪，记录程序执行期间内存地址的使用情况。</li>
<li>在源代码中添加<strong>断言</strong>以验证安全属性。</li>
<li>实现测试用例，通过CUnit或原生C断言执行测试。</li>
<li>执行测试并分析结果。</li>
</ol>
<h2 id="3-指针">3. 指针</h2>
<p><a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0950584922000027">An automated test data generation method for void pointers and function pointers in C/C++ libraries and embedded projects - ScienceDirect</a></p>
<p>介绍了一种名为VFP（Void and Function Pointers test data generation）的自动化测试数据生成方法，旨在提高C/C++库和嵌入式项目中void指针和函数指针的测试覆盖率。</p>
<ul>
<li>
<p><strong>背景</strong>：在C/C++项目中，指针的使用非常普遍，尤其是void指针和函数指针。这些指针在实际项目中频繁出现，但目前对于这类指针的测试数据生成研究较少。</p>
</li>
<li>
<p><strong>方法</strong>：VFP方法基于Concolic测试方法（结合了静态和动态测试的方法），通过预处理源代码来找出所有可能的void指针类型和函数指针的引用。VFP方法的关键在于分析源代码，找出void指针的所有可能类型和函数指针的引用，并利用这些信息生成初始测试数据。</p>
<ol>
<li><strong>参数预处理</strong>：分析被测单元内部和外部的源代码，找出所有可能的void指针类型和函数指针引用。</li>
<li><strong>随机测试数据生成</strong>：使用类型映射和引用映射，结合随机值生成，为其他数据类型生成初始测试数据。</li>
<li><strong>测试数据执行和测试路径分析</strong>：执行生成的测试数据，收集覆盖的测试路径，并尝试找出未覆盖的节点和最短未覆盖测试路径。</li>
<li><strong>定向测试数据生成</strong>：基于未覆盖的测试路径，生成路径约束，并转换为SMT-Lib表达式，由SMT求解器求解，生成新的测试数据。</li>
</ol>
</li>
</ul>
<h2 id="4-Error-Handling">4. Error Handling</h2>
<p>C语言的错误处理方式是通过函数返回值指示错误状态（通常还有宏定义的errno），通过条件语句处理错误。C++在保留C风格的错误处理方式时，新增了异常处理。</p>
<p><a target="_blank" rel="noopener" href="https://dl.acm.org/doi/abs/10.1145/3106237.3106300">Automatically diagnosing and repairing error handling bugs in C | Proceedings of the 2017 11th Joint Meeting on Foundations of Software Engineering (acm.org)</a></p>
<p>研究结果表明，错误处理漏洞通常由四个原因引起：错误/缺失的错误检查（EC）、错误/缺失的错误传播（EP）、错误/缺失的错误输出（EO）和错误/缺失的资源释放（RR）。作者利用这些发现设计并实现了一个名为ErrDoc的工具，该工具使用受限符号执行来探索所有可能的错误路径，并使用静态分析技术验证错误值是否被检查、向上游传播或记录。</p>
<ol>
<li><strong>探索错误路径</strong>：ErrDoc通过符号执行来识别所有可能的错误路径，并标记CFG中的相应节点和边。</li>
<li><strong>检测和分类错误处理漏洞</strong>：ErrDoc利用前一步收集的信息，输出有漏洞的程序位置和相应的漏洞类别。</li>
<li><strong>修复错误处理漏洞</strong>：ErrDoc自动修复四种类型的错误处理漏洞，通过修改AST来引入修复</li>
</ol>
<p>（自动修复=&gt;生成对应处的用例？）</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://bush-cn.github.io">bush Wu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://bush-cn.github.io/2025/01/12/C-%E5%8D%95%E6%B5%8B%E7%94%9F%E6%88%90%E8%B0%83%E7%A0%94/">http://bush-cn.github.io/2025/01/12/C-%E5%8D%95%E6%B5%8B%E7%94%9F%E6%88%90%E8%B0%83%E7%A0%94/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://bush-cn.github.io" target="_blank">bush's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-C-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%94%9F%E6%88%90/">C/C++单元测试生成</a></div><div class="post-share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/01/19/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-Memory-Management-Test-Case-Generation-of-C-Programs-using-Bounded-Model-Checking/" title="论文阅读-Memory Management Test-Case Generation of C Programs using Bounded Model Checking"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">论文阅读-Memory Management Test-Case Generation of C Programs using Bounded Model Checking</div></div><div class="info-2"><div class="info-item-1">论文链接：Memory Management Test-Case Generation of C Programs Using Bounded Model Checking | SpringerLink 使用工具  Efficient SMT-Based Bounded Model Checking（ESBMC，原文：SMT-Based Bounded Model Checking for Embedded ANSI-C Software | IEEE Journals &amp; Magazine | IEEE Xplore）：ESBMC以C语言源程序为输入，以一系列“Claim”为输出，这些Claim指明了该程序的安全属性，即可能出现内存错误的地方，包括检查与算术不足和溢出、零除法、越界索引、指针安全、死锁和数据竞争相关的属性。在ESBMC中，验证过程是完全自动化的，不需要用户使用前条件或后条件注释程序。 Safety...</div></div></div></a><a class="pagination-related" href="/2025/01/11/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="C++学习笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">C++学习笔记</div></div><div class="info-2"><div class="info-item-1">C++学习笔记 前言 必修课系统教学的只有C语言和Java，而Python比较简单虽没有系统教学但也在许多课程中经常使用。本来培养方案上是有C++的选修课的，但是不知道为什么不开了，上学期的编译也有用C++编程的选择。笔者这个篇笔记只记录学习其与C/Java的不同点。 参考：[菜鸟教程](C++ 教程 | 菜鸟教程 (runoob.com)) 1、简介 C++ 是一种静态类型的、编译式的、通用的、大小写敏感的、不规则的编程语言，支持过程化编程、面向对象编程和泛型编程。 C++ 被认为是一种中级语言，它综合了高级语言和低级语言的特点。 1.1、特点  C++有类似Java的面向对象的特点，即封装、继承、多态、抽象（在学Java的时候就已经知道，Java只能单继承而C++可以多继承）。 标准的 C++ 由三个重要部分组成：核心语言、C++标准库、标准模板库STL（这个在算法课上用过）  1.2、使用 C++的使用场景（后续若参加冯如杯，需要结合产业实际，如老师说的汽车C++软件）：   游戏开发：C++...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/03/04/%E5%9F%BA%E4%BA%8E%E5%85%B7%E6%9C%89%E5%85%B1%E5%90%8C%E5%B1%9E%E6%80%A7C-C-%E5%87%BD%E6%95%B0%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%9A%84%E6%9C%89%E6%95%88%E6%80%A7%E5%AE%9E%E9%AA%8C/" title="基于具有共同属性C&#x2F;C++函数生成测试用例的有效性实验"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-04</div><div class="info-item-2">基于具有共同属性C&#x2F;C++函数生成测试用例的有效性实验</div></div><div class="info-2"><div class="info-item-1">基于具有共同属性C/C++函数生成测试用例的有效性实验 验证有效性：若C/C++语言的两个函数在文件读写、分配内存、参数处理、结构体构造或极端数值等方面存在相似性，则他们对应的单元测试代码可以提供参考性。 由于Github中C/C++语言的单元测试代码少，且多因为测试粒度问题在一个测试用例中测试的是一整个模块、涉及多个函数，因此可能只找到符合条件的两函数后，对其中一个函数先生成单测后再进行实验。 </div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">bush Wu</div><div class="author-info-description">北京航空航天大学21系软件工程专业22级本科生。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/bush-cn"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/bush-cn" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:bush_wu@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">C++单测生成调研</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Undefined-Behavior"><span class="toc-text">1. Undefined Behavior</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%86%85%E5%AD%98"><span class="toc-text">2. 内存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%8C%87%E9%92%88"><span class="toc-text">3. 指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Error-Handling"><span class="toc-text">4. Error Handling</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/10/%E7%AE%97%E6%B3%95%E5%AF%BC%E8%AE%BA%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%E5%9B%9E%E9%A1%BE/" title="算法导论笔记整理回顾">算法导论笔记整理回顾</a><time datetime="2025-07-10T14:25:51.000Z" title="发表于 2025-07-10 22:25:51">2025-07-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/10/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="数据库复习笔记">数据库复习笔记</a><time datetime="2025-07-10T09:07:26.000Z" title="发表于 2025-07-10 17:07:26">2025-07-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/04/Java%20SE%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Java SE复习笔记">Java SE复习笔记</a><time datetime="2025-07-04T08:54:32.000Z" title="发表于 2025-07-04 16:54:32">2025-07-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/13/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="跨域问题及解决方案">跨域问题及解决方案</a><time datetime="2025-06-13T04:24:28.000Z" title="发表于 2025-06-13 12:24:28">2025-06-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/13/WebSocket%E4%BD%BF%E7%94%A8/" title="WebSocket使用">WebSocket使用</a><time datetime="2025-06-13T04:23:13.000Z" title="发表于 2025-06-13 12:23:13">2025-06-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 By bush Wu</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (true) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>